
name: Task Queue Manual Release

on:
  release:
    types: [published]

permissions:
  contents: read

jobs:
   validate_code:
     runs-on: ubuntu-latest
     if: github.ref != 'refs/heads/main'
     steps:
     - uses: ./.github/workflows/validate_code.yml

   publish-docker-image:
     needs: [validate_code]
     runs-on: ubuntu-latest
     permissions:
       packages: write
     steps:
     - uses: ./.github/workflows/publish_docker_image.yml
